{% load static %}

<aside class="w-72 shrink-0 bg-white border-r flex flex-col">
  <!-- Brand -->
  <div class="flex items-center gap-3 p-4 border-b">
    <img src="{% static 'images/logo.png' %}" alt="Stocker logo" width="28" height="28"
         class="h-7 w-7 rounded-md object-contain" />
    <div>
      <div class="text-lg font-semibold tracking-wide">Stocker</div>
      <p class="text-[11px] text-gray-500">Inventory dashboard</p>
    </div>
  </div>

  <!-- Menu -->
  {% with url=request.resolver_match.url_name|default:'' path=request.path|default:'' %}
  <nav class="p-4 space-y-3 text-sm">

    <!-- Overview -->
    <a href="{% url 'main:dashboard' %}"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition
              {% if url == 'dashboard' %}
                bg-blue-50 text-blue-700 border-l-2 border-l-blue-500
              {% else %}
                hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent
              {% endif %}">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M3 12h7V3H3v9Zm0 9h7v-7H3v7Zm11 0h7v-9h-7v9Zm0-18v7h7V3h-7Z" />
      </svg>
      <span>Overview</span>
    </a>

    <!-- Products (any product_* view) -->
    <a href="{% url 'inventory:product_list' %}"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition
              {% if url|slice:':8' == 'product_' %}
                bg-blue-50 text-blue-700 border-l-2 border-l-blue-500
              {% else %}
                hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent
              {% endif %}">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M3 7l9-4 9 4-9 4-9-4Zm18 4-9 4-9-4m18 0v6l-9 4-9-4v-6" />
      </svg>
      <span>Products</span>
    </a>

    <!-- Categories -->
    <a href="{% url 'inventory:category_list' %}"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition
              {% if request.resolver_match and request.resolver_match.url_name|default:''|slice:':9' == 'category_' %}
                bg-blue-50 text-blue-700 border-l-2 border-l-blue-500
              {% else %}
                hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent
              {% endif %}">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M4 6h16M4 12h16M4 18h8" />
      </svg>
      <span>Categories</span>
    </a>


    <!-- Suppliers (path contains '/suppliers') -->
    <a href="{% url 'suppliers:supplier_list' %}"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition
              {% if '/suppliers' in path %}
                bg-blue-50 text-blue-700 border-l-2 border-l-blue-500
              {% else %}
                hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent
              {% endif %}">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M3 20h18M3 10h18M6 6h12M7 14h10" />
      </svg>
      <span>Suppliers</span>
    </a>

    <!-- Reports (path contains '/inventory/reports') -->
    <a href="/inventory/reports/"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition
              {% if '/inventory/reports' in path %}
                bg-blue-50 text-blue-700 border-l-2 border-l-blue-500
              {% else %}
                hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent
              {% endif %}">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M4 19V5m0 14h16M4 5h16M8 19V9m4 10V7m4 12v-5" />
      </svg>
      <span>Reports</span>
    </a>

    <!-- Settings (placeholder) -->
    <a href="#settings"
       class="group flex items-center gap-3 rounded-lg px-3 py-2.5 border transition hover:bg-gray-50 text-gray-700 border-l-2 border-l-transparent">
      <svg viewBox="0 0 24 24" class="h-4 w-4 opacity-80 group-hover:opacity-100" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm8.66 3.5a8 8 0 0 1 0 1l2.02 1.56-2 3.46-2.46-.57a8.03 8.03 0 0 1-.86.5l-.37 2.5H8.01l-.37-2.5a7.9 7.9 0 0 1-.86-.5l-2.46.57-2-3.46L4.34 12a8 8 0 0 1 0-1L2.32 9.44l2-3.46 2.46.57c.27-.18.56-.34.86-.5l.37-2.5h5.96l.37 2.5c.3.16.59.32.86.5l2.46-.57 2 3.46L20.66 11.5Z" />
      </svg>
      <span>Settings</span>
    </a>
  </nav>
  {% endwith %}

  <!-- Sidebar footer -->
  <div class="mt-auto p-4 border-t">
    <form method="post" action="{% url 'logout' %}">
      {% csrf_token %}
      <button class="w-full rounded-lg border px-3 py-2 text-sm">Logout</button>
    </form>
  </div>
</aside>
